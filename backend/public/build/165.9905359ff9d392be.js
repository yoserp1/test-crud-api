"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[165],{5165:(D,u,i)=>{i.r(u),i.d(u,{PersonajeModule:()=>L});var p=i(6895),m=i(433),v=i(4466),l=i(4166),c=i(5861),e=i(8256),b=i(6805),j=i(930);function d(o,r){const t="object"==typeof r;return new Promise((n,s)=>{const a=new j.Hp({next:S=>{n(S),a.unsubscribe()},error:s,complete:()=>{t?n(r.defaultValue):s(new b.K)}});o.subscribe(a)})}var y=i(2340),T=i(529);const U=y.N.apiUlr;let f=(()=>{class o{constructor(t){this.http=t,this.endpoint=U+"/api"}lista(){var t=this;return(0,c.Z)(function*(){return yield d(t.http.get(t.endpoint+"/character"))})()}detalle(t){var n=this;return(0,c.Z)(function*(){return yield d(n.http.get(n.endpoint+"/character/detail/"+t))})()}favorito(t){return this.http.post(this.endpoint+"/character/favorite",{ref_api:t?.url})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var g=i(7500),h=i(5227),Z=i(3285);const C=function(o){return["/personaje/",o,"detalle"]};function A(o,r){if(1&o&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),e._uU(4),e.qZA()(),e.TgZ(5,"div",11)(6,"div",12),e._UZ(7,"img",13),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.qZA(),e.TgZ(16,"a",14),e._uU(17,"Ver Detalle \u2192"),e.qZA()()()()),2&o){const t=r.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(3),e.Q6J("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.status),e.xp6(2),e.hij("Especie: ",t.species,""),e.xp6(2),e.hij("Genero: ",t.gender,""),e.xp6(2),e.hij("Tipo: ",t.type,""),e.xp6(1),e.Q6J("routerLink",e.VKq(7,C,t.id))}}let x=(()=>{class o{constructor(t,n){this.router=t,this._personajeService=n,this.lista=[]}ngOnInit(){var t=this;return(0,c.Z)(function*(){yield t.getLista()})()}getLista(){var t=this;return(0,c.Z)(function*(){let n=yield t._personajeService.lista();n&&(t.lista=n.results)})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.F0),e.Y36(f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-lista"]],decls:11,vars:1,consts:[["id","wrapper"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[1,"container-fluid"],[1,"h3","mb-4","text-gray-800"],[1,"row"],["class","col-lg-3 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","mb-4"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"text-center"],["alt","...",1,"img-fluid","px-3","px-sm-4","mt-3","mb-4",2,"width","25rem",3,"src"],[1,"btn","btn-secondary","btn-block","mt-5",3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-sidebar"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"app-topbar"),e.TgZ(5,"div",3)(6,"h1",4),e._uU(7,"Lista de personajes"),e.qZA(),e.TgZ(8,"div",5),e.YNc(9,A,18,9,"div",6),e.qZA()()(),e._UZ(10,"app-footer"),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",n.lista))},dependencies:[p.sg,l.yS,g.k,h.c,Z.o]}),o})();var _=i(9837);const q=["successModal"];function M(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"h4",17),e._uU(2,"Informacion"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",19)(5,"div",20)(6,"label",21),e._uU(7),e.qZA()()(),e.TgZ(8,"div",22)(9,"button",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Ok click"))}),e._uU(10,"Cerrar"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(7),e.Oqu(t.message)}}const k=[{path:"",component:x},{path:":id/detalle",component:(()=>{class o{constructor(t,n,s,a){this.route=t,this._personajeService=n,this.location=s,this._modal=a,this.errors=null,this.message=null,this.messageError=null}ngOnInit(){var t=this;return(0,c.Z)(function*(){let{id:n}=yield d(t.route.params);t.personaje=yield t._personajeService.detalle(n)})()}regresar(){this.location.back()}favorito(t){this._personajeService.favorito(t).subscribe(n=>{this.message=n.message},n=>{this.errors=n.error,this.messageError=n.message},()=>{this._modal.open(this.successModal,{centered:!0,backdrop:!1})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.gz),e.Y36(f),e.Y36(p.Ye),e.Y36(_.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detalle"]],viewQuery:function(t,n){if(1&t&&e.Gf(q,5),2&t){let s;e.iGM(s=e.CRH())&&(n.successModal=s.first)}},decls:35,vars:9,consts:[["id","wrapper"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[1,"container-fluid"],[1,"h3","mb-4","text-gray-800"],[1,"row"],[1,"col-lg-12"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"text-center"],["alt","...",1,"img-fluid","px-3","px-sm-4","mt-3","mb-4",2,"width","25rem",3,"src"],[1,"btn","btn-warning","btn-block",3,"click"],[1,"btn","btn-secondary","btn-block",3,"click"],["successModal",""],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],[1,"text-primary","h6"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-sidebar"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"app-topbar"),e.TgZ(5,"div",3)(6,"h1",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"h6",9),e._uU(13,"Informacion"),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11),e._UZ(16,"img",12),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA(),e.TgZ(21,"p"),e._uU(22),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.ALo(27,"date"),e.qZA(),e.TgZ(28,"button",13),e.NdJ("click",function(){return n.favorito(n.personaje)}),e._uU(29,"Marcar como favorito"),e.qZA(),e.TgZ(30,"button",14),e.NdJ("click",function(){return n.regresar()}),e._uU(31,"Regresar"),e.qZA()()()()()(),e._UZ(32,"app-footer"),e.qZA()(),e.YNc(33,M,11,1,"ng-template",null,15,e.W1O),e.qZA()),2&t&&(e.xp6(7),e.Oqu(null==n.personaje?null:n.personaje.name),e.xp6(9),e.Q6J("src",null==n.personaje?null:n.personaje.image,e.LSH),e.xp6(2),e.Oqu(null==n.personaje?null:n.personaje.status),e.xp6(2),e.hij("Especie: ",null==n.personaje?null:n.personaje.species,""),e.xp6(2),e.hij("Genero: ",null==n.personaje?null:n.personaje.gender,""),e.xp6(2),e.hij("Tipo: ",null==n.personaje?null:n.personaje.type,""),e.xp6(2),e.hij("Creacion: ",e.lcZ(27,7,null==n.personaje?null:n.personaje.created),""))},dependencies:[g.k,h.c,Z.o,p.uU]}),o})()}];let F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(k),l.Bz]}),o})(),L=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,F,m.UX,m.u5,v.m]}),o})()}}]);